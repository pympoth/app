<script setup>
const city = "Ğ’Ğ¾Ğ»Ğ³Ğ¾Ğ´Ğ¾Ğ½ÑĞº";
const { data } = await useFetch("https://wttr.in/${city}?format=j1");

console.log(data.value.current_condition);
const currentWeather = data.value.current_condition[0];

const descWeather = currentWeather.weatherDesc[0].value.trim();
console.log(descWeather);

const weatherSymbols = {
  Unknown: "âœ¨",
  Cloudy: "â˜ï¸",
  Fog: "ğŸŒ«",
  "Heav rain": "ğŸŒ§",
  "Heavy showers": "ğŸŒ§",
  "Heavy snow": "â„ï¸",
  "Heavy snow showers": "â„ï¸",
  "Light rain": "ğŸŒ¦",
  "Light showers": "ğŸŒ¦",
  "Light sleet": "ğŸŒ§",
  "Light sleet showers": "ğŸŒ§",
  "Light snow": "ğŸŒ¨",
  "Light snow showers": "ğŸŒ¨",
  "Partly cloudy": "â›…ï¸",
  Sunny: "â˜€ï¸",
  "Thundery heavy rain": "ğŸŒ©",
  "Thundery showers": "â›ˆ",
  "Thundery snow showers": "â›ˆ",
  "Very cloudy": "â˜ï¸",
  Overcast: "â˜ï¸",
};
let currentSymbol = "";
if (weatherSymbols.hasOwnProperty(descWeather)) {
  currentSymbol = weatherSymbols[descWeather];
} else {
  console.log("ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğ¹ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»");
}
</script>

<template>
  <h1>Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</h1>

  <div class="widget" v-if="currentWeather">
    <h3>Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°: {{ currentWeather.temp_C }} C</h3>
    <p class="p">ĞÑ‰ÑƒÑ‰Ğ°ĞµÑ‚ÑÑ ĞºĞ°Ğº: {{ currentWeather.FeelsLikeC }} C</p>
    <p class="symbol">{{ currentSymbol }}</p>
    <div class="circle"></div>
    <div class="circles"></div>
  </div>
  <div class="calendar">
    <h3>Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ° Ğ² 8:00:</h3>
    <p class="p1">ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ ÑƒÑ€Ğ¾ĞºĞ¾Ğ²</p>
    <div class="string"></div>
    <h3 class="h3">Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ° Ğ² 13:30:</h3>
    <p class="p2">ĞšĞ¾Ğ½ĞµÑ† ÑƒÑ€Ğ¾ĞºĞ¾Ğ²</p>
        <div class="string"></div>
  </div>
</template>
<script scoped>
</script>
<style scoped>
.widget {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  margin: 20px;
  border: 3px solid blue;
  border-radius: 15px;
  padding: 5px;
  position: relative;
  overflow: hidden;
  background: #add2ff;
}
.symbol {
  position: absolute;
  top: -32px;
  right: 207px;
  font-size: 120pt;
  margin: -17px -17px -25px -17px;
}
.p {
  position: relative;
  top: -30px;
}
.circle {
  border: 3px solid blue;
  width: 100px;
  height: 100px;
  position: absolute;
  top: 80px;
  border-radius: 100px;
  right: -40px;
  background: #add2ff;
}
.circles {
  border: 3px solid blue;
  width: 100px;
  height: 100px;
  position: absolute;
  top: -88px;
  border-radius: 100px;
  right: -65px;
  background: #add2ff;
}
.calendar {
  margin: 20px;
  border: 3px solid blue;
  border-radius: 15px;
  padding: 5px;
  position: relative;
  overflow: hidden;
  background: #add2ff;
}
.p1 {
  position: relative;
  top: -20px;
}
.string {
  border: 3px solid blue;
  border-radius: 15px;
  padding: 0px;
  position: relative;
  overflow: hidden;
  background: #add2ff;
  top: -30px;
  width: 400px;
  right: 10px;
}
.h3 {
  position: relative;
  top: -40px;
}
.p2 {
  position: relative;
  top: -60px;
}
</style>